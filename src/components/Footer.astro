---
import Hr from "./Hr.astro";
import Socials from "./Socials.astro";

const currentYear = new Date().getFullYear();

export interface Props {
  noMarginTop?: boolean;
}

const { noMarginTop = false } = Astro.props;
---

<footer class={`${noMarginTop ? "" : "mt-auto"}`}>
  <Hr noPadding />
  <div class="footer-wrapper">
    <Socials centered />
    <div class="copyright-wrapper">
      <a
        href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
        target="_blank">CC BY-NC-SA 4.0</a
      >
      <div class="flex space-x-2 items-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 44 44"
          class="stroke-[8px] h-4 w-4"
        >
          <path
            fill="none"
            stroke="currentColor"
            d="M15 8l14.729 14.382L15 35.367"></path>
        </svg>
        <span>&#169; {currentYear} codehex</span>
        <span class="blink-cursor"></span>
      </div>
    </div>
  </div>
</footer>

<style>
  footer {
    @apply w-full;
  }
  .footer-wrapper {
    @apply flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4;
  }
  .link-button {
    @apply my-1 p-2 hover:rotate-6;
  }
  .link-button svg {
    @apply scale-125;
  }
  .copyright-wrapper {
    @apply my-2 flex flex-col items-center whitespace-nowrap sm:flex-row sm:space-x-2;
  }
  .blink-cursor {
    @apply inline-block w-2 h-4 bg-[#f472b6] mt-0.5;
    animation: cursor 1s infinite;
  }
  @keyframes cursor {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
</style>
